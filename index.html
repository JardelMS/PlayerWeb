<!DOCTYPE html>
<html>
<head>
    <title>Player de Vídeo</title>
    <style>
        /* Estilos do vídeo, se desejar */
    </style>
</head>
<body>
    <div id="video-player">
        <!-- O conteúdo do arquivo "canais.txt" será carregado aqui -->
    </div>

    <script>
        // Obtém o parâmetro da URL "index.m3u8"
        const urlParam = new URLSearchParams(window.location.search);
        const videoUrl = urlParam.get("api");
        const canaisParam = urlParam.get("canais");

        if (canaisParam === "all") {
            // Se a URL contém "?canais=all", carrega o conteúdo do arquivo "canais.txt" na div "video-player"
            fetch("canais.txt")
                .then(response => response.text())
                .then(content => {
                    document.getElementById("video-player").textContent = content;
                })
                .catch(error => console.error(error));
        } else {
            // Caso contrário, cria o iframe com a URL do vídeo normalmente
            const iframe = document.createElement("iframe");
            iframe.setAttribute("src", videoUrl);
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute("allowfullscreen", "");
            document.getElementById("video-player").appendChild(iframe);
        }
    </script>
</body>
</html>
